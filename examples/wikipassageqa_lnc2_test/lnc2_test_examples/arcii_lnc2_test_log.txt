{
  "inputs": {
    "test": {
      "phase": "EVAL", 
      "input_type": "ListGenerator", 
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_test.txt", 
      "batch_list": 10
    }, 
    "predict": {
      "phase": "PREDICT", 
      "input_type": "ListGenerator", 
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_test.txt", 
      "batch_list": 10
    }, 
    "train": {
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_train.txt", 
      "input_type": "PairGenerator", 
      "batch_size": 100, 
      "batch_per_iter": 5, 
      "phase": "TRAIN", 
      "query_per_iter": 50, 
      "use_iter": false
    }, 
    "share": {
      "vocab_size": 111166, 
      "use_dpool": false, 
      "embed_size": 50, 
      "target_mode": "ranking", 
      "text1_corpus": "./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt", 
      "text2_corpus": "./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt", 
      "embed_path": "./data/WikiPassageQA_LNC2_TEST/embed_glove_d50", 
      "text1_maxlen": 20, 
      "train_embed": false, 
      "text2_maxlen": 250
    }, 
    "valid": {
      "phase": "EVAL", 
      "input_type": "ListGenerator", 
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_valid.txt", 
      "batch_list": 10
    }
  }, 
  "global": {
    "optimizer": "adadelta", 
    "num_iters": 400, 
    "save_weights_iters": 10, 
    "learning_rate": 1.0, 
    "test_weights_iters": 400, 
    "weights_file": "examples/wikipassageqa_lnc2_test/weights/arcii.wikipassageqa_lnc2_test.weights", 
    "model_type": "PY", 
    "display_interval": 10
  }, 
  "outputs": {
    "predict": {
      "save_format": "TREC", 
      "save_path": "predict.test.arcii.wikipassageqa_lnc2_test.txt"
    }
  }, 
  "losses": [
    {
      "object_name": "rank_hinge_loss", 
      "object_params": {
        "margin": 1.0
      }
    }
  ], 
  "metrics": [
    "ndcg@3", 
    "ndcg@5", 
    "map"
  ], 
  "net_name": "ARCII", 
  "model": {
    "model_py": "arcii.ARCII", 
    "setting": {
      "dropout_rate": 0.9, 
      "2d_mpool_sizes": [
        [
          3, 
          3
        ]
      ], 
      "1d_kernel_count": 20, 
      "1d_kernel_size": 3, 
      "2d_kernel_sizes": [
        [
          3, 
          3
        ]
      ], 
      "num_conv2d_layers": 1, 
      "2d_kernel_counts": [
        20
      ]
    }, 
    "model_path": "./matchzoo/models/"
  }
}
[./data/WikiPassageQA_LNC2_TEST/embed_glove_d50]
	Embedding size: 111166
Generate numpy embed: (111166, 50)
[Embedding] Embedding Load Done.
[Input] Process Input Tags. [u'train'] in TRAIN, [u'test', u'valid'] in EVAL.
[./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt]
	Data size: 114418
[Dataset] 1 Dataset Load Done.
{u'relation_file': u'./data/WikiPassageQA_LNC2_TEST/relation_train.txt', u'vocab_size': 111166, u'query_per_iter': 50, u'use_dpool': False, u'embed_size': 50, u'target_mode': u'ranking', u'input_type': u'PairGenerator', u'text1_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'batch_size': 100, u'batch_per_iter': 5, u'text2_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'embed_path': u'./data/WikiPassageQA_LNC2_TEST/embed_glove_d50', u'text1_maxlen': 20, u'phase': u'TRAIN', 'embed': array([[ 0.15272 ,  0.36181 , -0.22168 , ...,  0.43382 , -0.084617,
         0.1214  ],
       [ 0.45323 ,  0.059811, -0.10577 , ...,  0.5324  , -0.25103 ,
         0.62546 ],
       [ 0.24184 ,  0.017354,  0.046838, ...,  0.68883 ,  0.092974,
         0.4912  ],
       ...,
       [ 0.34348 ,  0.67081 , -1.4356  , ..., -0.64835 ,  0.19469 ,
         0.43004 ],
       [-0.53709 , -1.023   , -0.16015 , ...,  0.71218 ,  0.050603,
         0.36588 ],
       [ 0.      ,  0.      ,  0.      , ...,  0.      ,  0.      ,
         0.      ]], dtype=float32), u'train_embed': False, u'text2_maxlen': 250, u'use_iter': False}
[./data/WikiPassageQA_LNC2_TEST/relation_train.txt]
	Instance size: 193900
Pair Instance Count: 320348
[PairGenerator] init done
{u'relation_file': u'./data/WikiPassageQA_LNC2_TEST/relation_test.txt', u'vocab_size': 111166, u'use_dpool': False, u'embed_size': 50, u'target_mode': u'ranking', u'input_type': u'ListGenerator', u'batch_list': 10, u'text1_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'text2_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'embed_path': u'./data/WikiPassageQA_LNC2_TEST/embed_glove_d50', u'text1_maxlen': 20, u'phase': u'EVAL', 'embed': array([[ 0.15272 ,  0.36181 , -0.22168 , ...,  0.43382 , -0.084617,
         0.1214  ],
       [ 0.45323 ,  0.059811, -0.10577 , ...,  0.5324  , -0.25103 ,
         0.62546 ],
       [ 0.24184 ,  0.017354,  0.046838, ...,  0.68883 ,  0.092974,
         0.4912  ],
       ...,
       [ 0.34348 ,  0.67081 , -1.4356  , ..., -0.64835 ,  0.19469 ,
         0.43004 ],
       [-0.53709 , -1.023   , -0.16015 , ...,  0.71218 ,  0.050603,
         0.36588 ],
       [ 0.      ,  0.      ,  0.      , ...,  0.      ,  0.      ,
         0.      ]], dtype=float32), u'train_embed': False, u'text2_maxlen': 250}
[./data/WikiPassageQA_LNC2_TEST/relation_test.txt]
	Instance size: 95464
List Instance Count: 414
[ListGenerator] init done
{u'relation_file': u'./data/WikiPassageQA_LNC2_TEST/relation_valid.txt', u'vocab_size': 111166, u'use_dpool': False, u'embed_size': 50, u'target_mode': u'ranking', u'input_type': u'ListGenerator', u'batch_list': 10, u'text1_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'text2_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'embed_path': u'./data/WikiPassageQA_LNC2_TEST/embed_glove_d50', u'text1_maxlen': 20, u'phase': u'EVAL', 'embed': array([[ 0.15272 ,  0.36181 , -0.22168 , ...,  0.43382 , -0.084617,
         0.1214  ],
       [ 0.45323 ,  0.059811, -0.10577 , ...,  0.5324  , -0.25103 ,
         0.62546 ],
       [ 0.24184 ,  0.017354,  0.046838, ...,  0.68883 ,  0.092974,
         0.4912  ],
       ...,
       [ 0.34348 ,  0.67081 , -1.4356  , ..., -0.64835 ,  0.19469 ,
         0.43004 ],
       [-0.53709 , -1.023   , -0.16015 , ...,  0.71218 ,  0.050603,
         0.36588 ],
       [ 0.      ,  0.      ,  0.      , ...,  0.      ,  0.      ,
         0.      ]], dtype=float32), u'train_embed': False, u'text2_maxlen': 250}
[./data/WikiPassageQA_LNC2_TEST/relation_valid.txt]
	Instance size: 25723
List Instance Count: 415
[ListGenerator] init done
[ARCII] init done
[layer]: Input	[shape]: [None, 20] 
19.3% memory has been used
[layer]: Input	[shape]: [None, 250] 
19.3% memory has been used
[layer]: Embedding	[shape]: [None, 20, 50] 
19.3% memory has been used
[layer]: Embedding	[shape]: [None, 250, 50] 
19.3% memory has been used
[layer]: Conv1D	[shape]: [None, 20, 20] 
19.3% memory has been used
[layer]: Conv1D	[shape]: [None, 250, 20] 
19.3% memory has been used
[layer]: Match-plus	[shape]: [None, 20, 250, 20] 
19.3% memory has been used
[layer]: Reshape	[shape]: [None, 20, 250, None] 
19.3% memory has been used
[layer]: Conv2D	[shape]: [None, 20, 250, 20] 
19.3% memory has been used
[layer]: MaxPooling2D	[shape]: [None, 6, 83, 20] 
19.3% memory has been used
[layer]: Flatten	[shape]: [None, None] 
19.3% memory has been used
[layer]: Dropout	[shape]: [None, None] 
19.3% memory has been used
[layer]: Dense	[shape]: [None, 1] 
19.3% memory has been used
[Model] Model Compile Done.
[10-04-2018 01:54:19]	[Train:train] Iter:0	loss=2.298408
[10-04-2018 01:54:29]	[Eval:test] Iter:0	ndcg@3=0.041360	map=0.094886	ndcg@5=0.046609
[10-04-2018 01:55:45]	[Eval:valid] Iter:0	ndcg@3=0.070182	map=0.129720	ndcg@5=0.091899
[10-04-2018 01:56:04]	[Train:train] Iter:1	loss=1.526796
[10-04-2018 01:56:13]	[Eval:test] Iter:1	ndcg@3=0.032534	map=0.089728	ndcg@5=0.036889
[10-04-2018 01:57:32]	[Eval:valid] Iter:1	ndcg@3=0.057909	map=0.119551	ndcg@5=0.083259
[10-04-2018 01:57:52]	[Train:train] Iter:2	loss=1.169270
[10-04-2018 01:58:01]	[Eval:test] Iter:2	ndcg@3=0.036380	map=0.087933	ndcg@5=0.038502
[10-04-2018 01:59:24]	[Eval:valid] Iter:2	ndcg@3=0.058517	map=0.113737	ndcg@5=0.087344
[10-04-2018 01:59:44]	[Train:train] Iter:3	loss=1.048904
[10-04-2018 01:59:54]	[Eval:test] Iter:3	ndcg@3=0.032265	map=0.089057	ndcg@5=0.037902
[10-04-2018 02:01:16]	[Eval:valid] Iter:3	ndcg@3=0.066886	map=0.121801	ndcg@5=0.094897
[10-04-2018 02:01:37]	[Train:train] Iter:4	loss=1.037611
[10-04-2018 02:01:46]	[Eval:test] Iter:4	ndcg@3=0.036799	map=0.092546	ndcg@5=0.042928
[10-04-2018 02:03:09]	[Eval:valid] Iter:4	ndcg@3=0.074272	map=0.126365	ndcg@5=0.104420
[10-04-2018 02:03:30]	[Train:train] Iter:5	loss=1.041891
[10-04-2018 02:03:39]	[Eval:test] Iter:5	ndcg@3=0.032534	map=0.091794	ndcg@5=0.036747
[10-04-2018 02:05:02]	[Eval:valid] Iter:5	ndcg@3=0.076984	map=0.129180	ndcg@5=0.107115
[10-04-2018 02:05:23]	[Train:train] Iter:6	loss=1.004400
[10-04-2018 02:05:33]	[Eval:test] Iter:6	ndcg@3=0.041211	map=0.095574	ndcg@5=0.043957
[10-04-2018 02:06:57]	[Eval:valid] Iter:6	ndcg@3=0.077969	map=0.131672	ndcg@5=0.104975
[10-04-2018 02:07:19]	[Train:train] Iter:7	loss=1.003141
[10-04-2018 02:07:29]	[Eval:test] Iter:7	ndcg@3=0.033816	map=0.095117	ndcg@5=0.042847
[10-04-2018 02:08:54]	[Eval:valid] Iter:7	ndcg@3=0.080958	map=0.131320	ndcg@5=0.107969
[10-04-2018 02:09:16]	[Train:train] Iter:8	loss=1.007680
[10-04-2018 02:09:26]	[Eval:test] Iter:8	ndcg@3=0.030119	map=0.095541	ndcg@5=0.038649
[10-04-2018 02:10:51]	[Eval:valid] Iter:8	ndcg@3=0.079219	map=0.131665	ndcg@5=0.104583
[10-04-2018 02:11:13]	[Train:train] Iter:9	loss=0.989408
[10-04-2018 02:11:23]	[Eval:test] Iter:9	ndcg@3=0.032534	map=0.095215	ndcg@5=0.038312
[10-04-2018 02:12:48]	[Eval:valid] Iter:9	ndcg@3=0.078065	map=0.135953	ndcg@5=0.109694
{
  "inputs": {
    "test": {
      "phase": "EVAL", 
      "input_type": "ListGenerator", 
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_test.txt", 
      "batch_list": 10
    }, 
    "predict": {
      "phase": "PREDICT", 
      "input_type": "ListGenerator", 
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_test.txt", 
      "batch_list": 10
    }, 
    "train": {
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_train.txt", 
      "input_type": "PairGenerator", 
      "batch_size": 100, 
      "batch_per_iter": 5, 
      "phase": "TRAIN", 
      "query_per_iter": 50, 
      "use_iter": false
    }, 
    "share": {
      "vocab_size": 111166, 
      "use_dpool": false, 
      "embed_size": 50, 
      "target_mode": "ranking", 
      "text1_corpus": "./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt", 
      "text2_corpus": "./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt", 
      "embed_path": "./data/WikiPassageQA_LNC2_TEST/embed_glove_d50", 
      "text1_maxlen": 20, 
      "train_embed": false, 
      "text2_maxlen": 250
    }, 
    "valid": {
      "phase": "EVAL", 
      "input_type": "ListGenerator", 
      "relation_file": "./data/WikiPassageQA_LNC2_TEST/relation_valid.txt", 
      "batch_list": 10
    }
  }, 
  "global": {
    "optimizer": "adadelta", 
    "num_iters": 400, 
    "save_weights_iters": 10, 
    "learning_rate": 1.0, 
    "test_weights_iters": 400, 
    "weights_file": "examples/wikipassageqa_lnc2_test/weights/arcii.wikipassageqa_lnc2_test.weights", 
    "model_type": "PY", 
    "display_interval": 10
  }, 
  "outputs": {
    "predict": {
      "save_format": "TREC", 
      "save_path": "predict.test.arcii.wikipassageqa_lnc2_test.txt"
    }
  }, 
  "losses": [
    {
      "object_name": "rank_hinge_loss", 
      "object_params": {
        "margin": 1.0
      }
    }
  ], 
  "metrics": [
    "ndcg@3", 
    "ndcg@5", 
    "map"
  ], 
  "net_name": "ARCII", 
  "model": {
    "model_py": "arcii.ARCII", 
    "setting": {
      "dropout_rate": 0.9, 
      "2d_mpool_sizes": [
        [
          3, 
          3
        ]
      ], 
      "1d_kernel_count": 20, 
      "1d_kernel_size": 3, 
      "2d_kernel_sizes": [
        [
          3, 
          3
        ]
      ], 
      "num_conv2d_layers": 1, 
      "2d_kernel_counts": [
        20
      ]
    }, 
    "model_path": "./matchzoo/models/"
  }
}
[./data/WikiPassageQA_LNC2_TEST/embed_glove_d50]
	Embedding size: 111166
Generate numpy embed: (111166, 50)
[Embedding] Embedding Load Done.
[Input] Process Input Tags. [u'predict'] in PREDICT.
[./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt]
	Data size: 114418
[Dataset] 1 Dataset Load Done.
{u'relation_file': u'./data/WikiPassageQA_LNC2_TEST/relation_test.txt', u'vocab_size': 111166, u'use_dpool': False, u'embed_size': 50, u'target_mode': u'ranking', u'input_type': u'ListGenerator', u'batch_list': 10, u'text1_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'text2_corpus': u'./data/WikiPassageQA_LNC2_TEST/corpus_preprocessed.txt', u'embed_path': u'./data/WikiPassageQA_LNC2_TEST/embed_glove_d50', u'text1_maxlen': 20, u'phase': u'PREDICT', 'embed': array([[ 0.15272 ,  0.36181 , -0.22168 , ...,  0.43382 , -0.084617,
         0.1214  ],
       [ 0.45323 ,  0.059811, -0.10577 , ...,  0.5324  , -0.25103 ,
         0.62546 ],
       [ 0.24184 ,  0.017354,  0.046838, ...,  0.68883 ,  0.092974,
         0.4912  ],
       ...,
       [ 0.34348 ,  0.67081 , -1.4356  , ..., -0.64835 ,  0.19469 ,
         0.43004 ],
       [-0.53709 , -1.023   , -0.16015 , ...,  0.71218 ,  0.050603,
         0.36588 ],
       [ 0.      ,  0.      ,  0.      , ...,  0.      ,  0.      ,
         0.      ]], dtype=float32), u'train_embed': False, u'text2_maxlen': 250}
[./data/WikiPassageQA_LNC2_TEST/relation_test.txt]
	Instance size: 95464
List Instance Count: 414
[ListGenerator] init done
[ARCII] init done
[layer]: Input	[shape]: [None, 20] 
19.2% memory has been used
[layer]: Input	[shape]: [None, 250] 
19.2% memory has been used
[layer]: Embedding	[shape]: [None, 20, 50] 
19.2% memory has been used
[layer]: Embedding	[shape]: [None, 250, 50] 
19.2% memory has been used
[layer]: Conv1D	[shape]: [None, 20, 20] 
19.2% memory has been used
[layer]: Conv1D	[shape]: [None, 250, 20] 
19.2% memory has been used
[layer]: Match-plus	[shape]: [None, 20, 250, 20] 
19.2% memory has been used
[layer]: Reshape	[shape]: [None, 20, 250, None] 
19.2% memory has been used
[layer]: Conv2D	[shape]: [None, 20, 250, 20] 
19.2% memory has been used
[layer]: MaxPooling2D	[shape]: [None, 6, 83, 20] 
19.2% memory has been used
[layer]: Flatten	[shape]: [None, None] 
19.2% memory has been used
[layer]: Dropout	[shape]: [None, None] 
19.2% memory has been used
[layer]: Dense	[shape]: [None, 1] 
19.2% memory has been used
